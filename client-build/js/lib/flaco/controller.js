define(["config/app","modules/app"],function(a,b){function c(c){function e(e){function g(a){return r[a]}function m(){var a=k.call(arguments,0);return p&&b.emit(p,f,a),n&&n.apply(f,a),o&&o.apply(f,a),q&&b.emit(q,f,a),this}var n=c[e],o=l[e],p=a[d+"_"+h.present(e)],q=a[d+"_"+h.past(e)],r={};r[i]=function(){return m.apply(f,arguments)},r[j]=function(){return m.apply(f,arguments)},f[e]=g(e)?r[e]:c[e]}var f={},g,h={present:function(a){return a.replace(/^(\w+)(?:e)$/gi,"$1ing").toUpperCase()},past:function(a){return a.replace(/^(\w+)(?:e)$/gi,"$1ed").toUpperCase()}},l=c.view;for(g in c)e(g);return f}var d="CONTROLLER",e="name",f="method",g="present",h="past",i="initialize",j="finalize",k=Array.prototype.slice;return c})